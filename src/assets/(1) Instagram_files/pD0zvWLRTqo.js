;/*FB_PKG_DELIM*/

__d("WorkGalahadMWChatTabContext.react",["MessengerSurfaceType","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("react")).createContext;b=a({surface:d("MessengerSurfaceType").messenger});g.context=b}),98);
__d("WorkChatQPLLoggingUtils",["ChannelClientID","GeminiAppPwaModeStore","LSPlatformLsInitLog","MemoryUtils","Network","QPLUserFlow","QuickPerformanceLogger","WorkGalahadMWChatTabContext.react","gkx","interaction-tracing","qpl","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=j.useCallback,l=j.useContext;j={ATTACHMENT_UPLOAD:c("qpl")._(1036589393,"487"),MESSAGE_RANGE_QUERY:c("qpl")._(1036591811,"581"),CHAT_THREADS_LOAD_TIME:c("qpl")._(1036588047,"310"),CHAT_PINNED_THREADS_LOAD_TIME:c("qpl")._(741087294,"2028"),CHAT_MESSAGE_LIST_LOAD_TIME:c("qpl")._(1036591326,"491"),COMPOSER_LINK_PREVIEW_LOAD_TIME:c("qpl")._(1036591237,"1334"),MESSAGE_SEND:c("qpl")._(1036587559,"243"),THREAD_RANGE_QUERY:c("qpl")._(1036594911,"508"),FOLDER_THREADS_LOADING_TIME:c("qpl")._(1036588869,"1527"),THREAD_SEARCH:c("qpl")._(1036584390,"826"),THREAD_SEARCH_CAPPED_RESULTS:c("qpl")._(1036589483,"189"),THREAD_SEARCH_USER_FLOW:c("qpl")._(1036591405,"1078"),UNREAD_THREADS_LOAD_TIME:c("qpl")._(1036593637,"1639"),FOLDERS_LOADING_TIME:c("qpl")._(1036598163,"712"),FOLDERS_UNREAD_INDICATOR_LOADING_TIME:c("qpl")._(1036597910,"1347")};var m=new Map();function n(a){var b=Number(a);if(isNaN(b))try{throw c("unrecoverableViolation")("Invalid Offline Thraeding ID "+a,"work_web_messaging")}finally{return 0}return b}function o(a,b,c){a=a!=null?a:{bool:{}};if(a.bool)a.bool[b]=c;else{var d;a.bool=(d={},d[b]=c,d)}return a}function p(a,b,c){a=a!=null?a:{string:{}};if(a.string)a.string[b]=c;else{var d;a.string=(d={},d[b]=c,d)}return a}function a(a){var b=l(d("WorkGalahadMWChatTabContext.react").context);return k(function(d,e,f,g){f===void 0&&(f="0");var i=(h||(h=c("QuickPerformanceLogger"))).getMarker(d,n(f));if(!i||!a&&i){i=p(g,"surface",b.surface);q(d,e,f,i);return!0}return!1},[b.surface,a])}function q(a,b,e,f){e===void 0&&(e="0");var g=c("GeminiAppPwaModeStore").getSnapshot()!=null;f=o(f,"isPwa",g);g=d("LSPlatformLsInitLog").hasFinished();f=o(f,"isLsInitFinished",g);f=p(f,"deviceId",c("ChannelClientID").getID());c("QPLUserFlow").start(a,{cancelExisting:b,cancelOnUnload:!0,instanceKey:n(e),annotations:f});w(a,e);A(a,e);z(a,e)}function b(a,b,d){b===void 0&&(b="0"),c("QPLUserFlow").endSuccess(a,{instanceKey:n(b),annotations:d!=null?d:{}}),B(a,b),x(a,b)}function e(a,b,d){d===void 0&&(d="0"),c("QPLUserFlow").endFailure(a,b,{instanceKey:n(d)}),B(a,d),x(a,d)}function f(a,b){b===void 0&&(b="0"),(h||(h=c("QuickPerformanceLogger"))).getMarker(a,n(b))&&r(a,b)}function r(a,b){b===void 0&&(b="0"),c("QPLUserFlow").endCancel(a,{instanceKey:n(b)}),B(a,b),x(a,b)}function s(a,b,d){d===void 0&&(d="0"),c("QPLUserFlow").addPoint(a,b,{instanceKey:n(d)})}function t(a,b,d){d===void 0&&(d="0"),(h||(h=c("QuickPerformanceLogger"))).getMarker(a,n(d))&&c("QPLUserFlow").addPoint(a,b,{instanceKey:n(d)})}function u(a,b,d){d===void 0&&(d="0"),c("QPLUserFlow").addAnnotations(a,b,{instanceKey:n(d)})}function v(a,b){b===void 0&&(b="0");return String(a)+"_"+b}function w(a,b){b===void 0&&(b="0");if(!c("gkx")("16510"))return;var d=c("interaction-tracing").NetworkStatusTracker.onChange(function(c){c=c.online;y(a,b,c)});m.set(v(a,b),d);y(a,b,c("interaction-tracing").NetworkStatusTracker.isOnline());if(c("Network").containsNetworkInformation()){d=c("Network").getRTT();d!=null&&u(a,{"int":{network_rtt:d}},b);d=c("Network").getEffectiveType();d!=null&&u(a,{string:{network_effective_type:String(d)}},b);var e=c("Network").getBandwidth();e!=null&&u(a,{"int":{network_bandwidth:e}},b);e=c("Network").getType();e!=null&&u(a,{string:{network_connectivity_type:String(d)}},b)}}function x(a,b){b===void 0&&(b="0");if(!c("gkx")("16510"))return;a=v(a,b);(b=m.get(a))==null||b.remove();m["delete"](a)}function y(a,b,c){b===void 0&&(b="0"),t(a,c?"network_connection_online":"network_connection_offline",b)}function z(a,b){b===void 0&&(b="0");if(!c("gkx")("16510"))return;window.navigator&&window.navigator.hardwareConcurrency&&u(a,{"int":{hardware_concurrency:window.navigator.hardwareConcurrency}},b)}function A(a,b){b===void 0&&(b="0");if(!c("gkx")("16510"))return;var e=d("MemoryUtils").getCurrentMemory(),f=e.deviceMemory,g=e.jsHeapSizeLimit,h=e.totalJSHeapSize;e=e.usedJSHeapSize;u(a,{"int":{used_js_heap_size_start:e,js_total_heap_size:h,js_heap_size_limit:g,js_device_memory:f}},b)}function B(a,b){b===void 0&&(b="0");if(!c("gkx")("16510"))return;var e=d("MemoryUtils").getCurrentMemory();e=e.usedJSHeapSize;u(a,{"int":{used_js_heap_size_end:e}},b)}g.QPLEvents=j;g.extractInstanceKey=n;g.useMarkerStart=a;g.markerStart=q;g.markerEndSuccess=b;g.markerEndFailure=e;g.markerEndCancelIfRunning=f;g.markerEndCancel=r;g.markerAddPoint=s;g.markerAddPointIfRunning=t;g.markerAddAnnotations=u;g.logAndsubscribeToNetworkStatus=w;g.clearNetworkStatusSubscription=x;g.logHardwareStatus=z;g.logMemoryStatusStart=A;g.logMemoryStatusEnd=B}),98);