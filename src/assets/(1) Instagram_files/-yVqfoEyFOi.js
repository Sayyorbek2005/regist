;/*FB_PKG_DELIM*/

__d("IGDMusicStickerContextProvider.react",["ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.createContext;e.useCallback;var l=e.useContext,m=e.useEffect;e.useMemo;var n=e.useRef,o=e.useState,p=k({currentMessageId:void 0,hasAudioPlaying:!1,pauseAudio:function(){},toggleAudio:function(){}});function a(a){var b=d("react-compiler-runtime").c(25);a=a.children;var e=o(!1),g=e[0],i=e[1];e=o(void 0);var k=e[0],l=e[1],q=n(null),r=(h||(h=c("useReStore")))();b[0]!==k?(e=function(a,b){if(k!=null&&k===a){var c;(c=q.current)==null||c.play()["catch"](function(){i(!1)});return}(c=q.current)==null||c.pause();c=new Audio(b);c.addEventListener("ended",function(){return i(!1)});c.addEventListener("pause",function(){return i(!1)});c.addEventListener("play",function(){return i(!0)});q.current=c;l(a);c.play()["catch"](function(){i(!1)})},b[0]=k,b[1]=e):e=b[1];var s=e;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(){var a;(a=q.current)==null||a.pause()},b[2]=e):e=b[2];var t=e;b[3]!==k||b[4]!==g||b[5]!==s?(e=function(a,b){a!==k||!g?s(a,b):t()},b[3]=k,b[4]=g,b[5]=s,b[6]=e):e=b[6];e=e;var u,v;b[7]!==k||b[8]!==r.tables.messages?(u=function(){return k!=null?d("ReQL").fromTableAscending(r.tables.messages.index("messageId")).getKeyRange(k):d("ReQL").empty()},v=[k,r.tables.messages],b[7]=k,b[8]=r.tables.messages,b[9]=u,b[10]=v):(u=b[9],v=b[10]);var w=d("ReQLSuspense").useFirst(u,v,f.id+":84");b[11]!==w?(u=function(){if(w==null){var a;(a=q.current)==null||a.pause()}},b[11]=w,b[12]=u):u=b[12];b[13]!==k||b[14]!==w?(v=[k,w],b[13]=k,b[14]=w,b[15]=v):v=b[15];m(u,v);b[16]===Symbol["for"]("react.memo_cache_sentinel")?(u=function(){return function(){var a;(a=q.current)==null||a.pause()}},v=[],b[16]=u,b[17]=v):(u=b[16],v=b[17]);m(u,v);b[18]!==k||b[19]!==g||b[20]!==e?(u={currentMessageId:k,hasAudioPlaying:g,pauseAudio:t,toggleAudio:e},b[18]=k,b[19]=g,b[20]=e,b[21]=u):u=b[21];v=u;e=v;b[22]!==a||b[23]!==e?(u=j.jsx(p.Provider,{value:e,children:a}),b[22]=a,b[23]=e,b[24]=u):u=b[24];return u}function b(){return l(p)}g.IGDMusicStickerContextProvider=a;g.useIGDMusicStickerPlayerContext=b}),98);