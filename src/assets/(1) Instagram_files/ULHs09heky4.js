;/*FB_PKG_DELIM*/

__d("InstamadilloPostReplySnippet",["fbt","MAWCurrentUser","WAJids"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a){var b=d("MAWCurrentUser").getID();return d("WAJids").isAuthorMe(a)||d("WAJids").extractUserId(a)===b}function a(a,b){return i(a)?h._(/*BTDS*/"\u0412\u044b \u043e\u0442\u043c\u0435\u0442\u0438\u043b\u0438 \u0040{username} \u0432 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",[h._param("username",b)]).toString():h._(/*BTDS*/"\u0423\u043f\u043e\u043c\u044f\u043d\u0443\u043b(-\u0430) \u0432\u0430\u0441 \u0432 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438").toString()}g.isCurrentUserMe=i;g.getMessageReplySnippetForPost=a}),226);
__d("InstamadilloStoryReplySnippet",["fbt","IGDDataclassTypes.flow","InstamadilloPostReplySnippet"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a,b){if(b==null)return null;return d("InstamadilloPostReplySnippet").isCurrentUserMe(a)?h._(/*BTDS*/"\u0412\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b\u0438 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0435 \u0438\u0437 \u0438\u0441\u0442\u043e\u0440\u0438\u0438 {username}",[h._param("username",b)]):h._(/*BTDS*/"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u043b(-\u0430) \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0435 \u0438\u0437 \u0438\u0441\u0442\u043e\u0440\u0438\u0438 {username}",[h._param("username",b)])}function j(a){return d("InstamadilloPostReplySnippet").isCurrentUserMe(a)?h._(/*BTDS*/"\u0412\u044b \u043e\u0442\u0440\u0435\u0430\u0433\u0438\u0440\u043e\u0432\u0430\u043b\u0438 \u043d\u0430 \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u044d\u0442\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"):h._(/*BTDS*/"\u041e\u0442\u0440\u0435\u0430\u0433\u0438\u0440\u043e\u0432\u0430\u043b(-\u0430) \u043d\u0430 \u0432\u0430\u0448\u0443 \u0438\u0441\u0442\u043e\u0440\u0438\u044e")}function k(a,b){if(b==null)return null;return d("InstamadilloPostReplySnippet").isCurrentUserMe(a)?h._(/*BTDS*/"\u0412\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b\u0438 \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u0040{username}",[h._param("username",b)]):h._(/*BTDS*/"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u043b(-\u0430) \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u0040{username}",[h._param("username",b)])}function l(a){return d("InstamadilloPostReplySnippet").isCurrentUserMe(a)?h._(/*BTDS*/"\u0412\u044b \u043e\u0442\u0432\u0435\u0442\u0438\u043b\u0438 \u043d\u0430 \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u044d\u0442\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"):h._(/*BTDS*/"\u041e\u0442\u0432\u0435\u0442\u0438\u043b(-\u0430) \u043d\u0430 \u0432\u0430\u0448\u0443 \u0438\u0441\u0442\u043e\u0440\u0438\u044e")}function m(a,b){if(b==null)return null;return d("InstamadilloPostReplySnippet").isCurrentUserMe(a)?h._(/*BTDS*/"\u0412\u044b \u0443\u043f\u043e\u043c\u044f\u043d\u0443\u043b\u0438 \u0040{username} \u0432 \u0441\u0432\u043e\u0435\u0439 \u0438\u0441\u0442\u043e\u0440\u0438\u0438",[h._param("username",b)]):h._(/*BTDS*/"\u0423\u043f\u043e\u043c\u044f\u043d\u0443\u043b(-\u0430) \u0432\u0430\u0441 \u0432 \u0441\u0432\u043e\u0435\u0439 \u0438\u0441\u0442\u043e\u0440\u0438\u0438")}function a(a,b,c){var e;switch(b.action_type){case d("IGDDataclassTypes.flow").XmsgIgXmaActionType.React:e=j(a);break;case d("IGDDataclassTypes.flow").XmsgIgXmaActionType.Share:e=b.content_type===d("IGDDataclassTypes.flow").XmsgIgReceiverFetchContentType.StoryHighlight?i(a,b.username):k(a,b.username);break;case d("IGDDataclassTypes.flow").XmsgIgXmaActionType.Reply:e=l(a);break;case d("IGDDataclassTypes.flow").XmsgIgXmaActionType.Mention:e=m(a,c);break}return(b=e)==null?void 0:b.toString()}g.getMessageReplySnippetForStory=a}),226);
__d("getSendStoryToInstamadilloRecipient",["fbt","I64","IGDDataclassTypes.flow","InstamadilloStoryReplySnippet","LSAuthorityLevel","LSIntEnum","LSMessageReplySourceTypeV2","LSMessageSendStatus","MNXMAPreviewImageDecorationType","PolarisLinkBuilder","asyncToGeneratorRuntime","issueSendInstamadilloXMAReceiverFetch","renderInstamadilloOptimisticXmaReceiverFetch"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function a(a,e,f,g,k){var l=d("PolarisLinkBuilder").BASE_INSTAGRAM_URL+d("PolarisLinkBuilder").buildDirectUserStoryLink(e+"_"+(f!=null?f:"")),m={__typename:"XMSGIgReceiverFetchXmaStoryFetchParams",reel_id:a,story_igid:e},n={__typename:"XMSGIgXmaContentRefDataclass",action_type:k,content_type:d("IGDDataclassTypes.flow").XmsgIgReceiverFetchContentType.Story,fetch_params:m,owner_fbid:f,target_url:l,username:g},o={authorityLevel:(i||(i=d("I64"))).of_int32(c("LSAuthorityLevel").OPTIMISTIC),replySnippet:(a=d("InstamadilloStoryReplySnippet").getMessageReplySnippetForStory("@me",n))!=null?a:void 0,replySourceTypeV2:(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").IG_STORY_SHARE),sendStatus:i.of_int32(c("LSMessageSendStatus").SENDING_TO_SERVER),sendStatusV2:i.of_int32(1)},p={actionUrl:l,nativeUrl:l,targetId:i.of_string(e),type_:"xma_web_url"},q={authorityLevel:i.of_int32(c("LSAuthorityLevel").OPTIMISTIC),previewImageDecorationType:j.ofNumber(c("MNXMAPreviewImageDecorationType").INSTAGRAM_ICON),subtitleText:h._(/*BTDS*/"\u0418\u0441\u0442\u043e\u0440\u0438\u044f").toString(),titleText:g};return function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h){var i=k===d("IGDDataclassTypes.flow").XmsgIgXmaActionType.React||d("IGDDataclassTypes.flow").XmsgIgXmaActionType.Reply,j={contentRef:JSON.stringify(n),text:i?f:void 0};try{var l=(yield c("renderInstamadilloOptimisticXmaReceiverFetch")(a,j,m,q,p,o));yield c("issueSendInstamadilloXMAReceiverFetch")({comment:i?void 0:f,isDisappearingModeSettingOn:b,offlineThreadingId:l,openEb:e,receiverFetchXma:JSON.stringify(j),threadKey:a});g==null||g(a)}catch(b){h==null||h(b,a)}});return function(b,c,d,e,f,g){return a.apply(this,arguments)}}()}g["default"]=a}),226);